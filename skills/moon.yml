# https://moonrepo.dev/docs/config/project
$schema: "https://moonrepo.dev/schemas/project.json"

language: other
type: tool

fileGroups:
  sources:
    - "**/*.md"
    - "**/*.yaml"
    - "**/*.yml"

tasks:
  install:
    command:
      "echo 'Installing Sibyl skill...' && mkdir -p ~/.claude/skills ~/.codex/skills && rm -rf
      ~/.claude/skills/sibyl ~/.codex/skills/sibyl && cp -r sibyl ~/.claude/skills/ && cp -r sibyl
      ~/.codex/skills/ && echo '✓ Installed to ~/.claude/skills and ~/.codex/skills'"
    local: true
    options:
      shell: true

  uninstall:
    command: "rm -rf ~/.claude/skills/sibyl ~/.codex/skills/sibyl && echo '✓ Removed Sibyl skill'"
    local: true
    options:
      shell: true

  lint:
    command: "npx prettier --check '**/*.md' '**/*.yml'"
    inputs:
      - "@group(sources)"

  fix:
    command: "npx prettier --write '**/*.md' '**/*.yml'"
    inputs:
      - "@group(sources)"
    local: true

  format:
    command: "npx prettier --write '**/*.md' '**/*.yml'"
    inputs:
      - "@group(sources)"
    local: true
